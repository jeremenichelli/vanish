!function(t,n){"use strict";"function"==typeof define&&define.amd?define(function(){return n(t)}):"object"==typeof exports?module.exports=n:t.Vanish=n(t)}(this,function(){"use strict";var t={loop:!0,lapse:300,navigation:!0,next:"&gt;",prev:"&lt;"},n=function(n,e){if(!n)return void console.error("You must specify an element");this.element=n;var i=this;if(e?i.setOptions(e):i.options=t,i.setElements(),i.hasIndicators&&i.limit!==i.indicators.length)return void console.error("The number of elements and indicators must match");if(i.limit>1){if(i.options.navigation&&(i.prevBtn.onclick=i.prev.bind(i),i.nextBtn.onclick=i.next.bind(i),i.element.appendChild(i.prevBtn),i.element.appendChild(i.nextBtn)),i.options.loop&&i.loop(),i.hasIndicators)for(var o=0;o<i.limit;o++)i.indicators[o].onclick=i.activeElement.bind(i,[o]);i.element.addClass("vanish-started")}};return n.prototype={setOptions:function(n){var e=this,i={};for(var o in t)i[o]="undefined"!=typeof n[o]?n[o]:t[o];e.options=i},setElements:function(){var t=this;t.hasIndicators=!1,t.elements=t.element.querySelector("[data-vanish-elements]").children,t.element.querySelector("[data-vanish-indicators]")&&(t.indicators=t.element.querySelector("[data-vanish-indicators]").children,t.hasIndicators=!0),t.limit=t.elements.length,t.position=0,t.options.navigation?(t.nextBtn=document.createElement("a"),t.prevBtn=document.createElement("a"),t.prevBtn.href=t.nextBtn.href="",t.nextBtn.addClass("vanish-next"),t.prevBtn.addClass("vanish-prev"),t.nextBtn.innerHTML=t.options.next,t.prevBtn.innerHTML=t.options.prev):t.options.loop||console.info("Warning! This vanish instance has no navigation buttons and is not allowed to loop")},setActives:function(){var t=this,n=t.position;t.elements[n].addClass("active"),t.hasIndicators&&t.indicators[n].addClass("active")},resetActives:function(){var t=this,n=t.position;t.elements[n].removeClass("active"),t.hasIndicators&&t.indicators[n].removeClass("active")},next:function(){var t=this;return t.resetActives(),t.position===t.limit-1?t.position=0:++t.position,t.options.loop&&(t.count=0),t.setActives(),!1},prev:function(){var t=this;return t.resetActives(),0===t.position?t.position=t.limit-1:--t.position,t.options.loop&&(t.count=0),t.setActives(),!1},activeElement:function(t){var n=this;t<n.limit&&(n.resetActives(),n.position=t,n.options.loop&&(n.count=0),n.setActives())},loop:function(){function t(){++n.count,n.count===n.options.lapse&&(n.next(),n.count=0),requestAnimationFrame(t)}var n=this;n.count=0,requestAnimationFrame(t)}},n});